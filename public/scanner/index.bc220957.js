let e;function t(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function i(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequireed96;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},n.parcelRequireed96=o),o.register("27Lyk",function(e,i){t(e.exports,"register",()=>n,e=>n=e),t(e.exports,"resolve",()=>r,e=>r=e);var n,r,a={};n=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)a[t[i]]=e[t[i]]},r=function(e){var t=a[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),o("27Lyk").register(JSON.parse('{"1LzKV":"index.bc220957.js","a2Cve":"process.512d0167.js","bj76Q":"flash.7ae5cfb8.svg","e0Dy9":"flash-off.f95884b2.svg","lX2gi":"hd.0cfe4ff9.svg","gltHY":"sd.25c2f123.svg","drXuR":"service.js"}'));var l={},d={};d=function(e,t,i){if(t===self.location.origin)// use the worker bundle's own url.
return e;// Otherwise, create a blob URL which loads the worker bundle with `importScripts`.
var n=i?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))};let s=new URL(o("27Lyk").resolve("a2Cve"),import.meta.url);l=d(s.toString(),s.origin,!0);const h=()=>new Worker(l),c=[];if(navigator.hardwareConcurrency)for(let e=1;e<navigator.hardwareConcurrency;++e)c.push(h());const m=()=>c.pop()||h(),g=e=>c.push(e);let w=0;const p=async(e,t)=>new Promise((i,n)=>{let r=m(),a=w++,o=e=>{let{id:t,error:l,result:d}=e.data;if(t==a){if(l){let e=Error(l.message);e.stack=l.stack,e.name=l.name,n(e)}else i(d);// console.log('Processed', msg, 'in', (performance.now() - ts) + 'ms', { result, error });
    g(r),r.removeEventListener("message",o)}};r.addEventListener("message",o),r.postMessage({id:a,msg:e},t||[])});function y(e,t){return p({type:"find-document",data:e},t?[e.data.buffer]:[])}const u=Blob.prototype.arrayBuffer||function(){return new Promise((e,t)=>{let i=new FileReader;i.onload=()=>{e(i.result)},i.onerror=()=>{t(i.error)},i.readAsArrayBuffer(this)})},v=async e=>{let t=[],i=0,n=[],r=e=>{t.push(e),i+=e.length},a=e=>{r(" "),r(e)},o=e=>{let t=0;for(let i of e)t+=i.length;let i=new Uint8Array(t);for(let n of(t=0,e)){if("string"==typeof n)for(let e=0;e<n.length;++e)i[e+t]=n.charCodeAt(e);else i.set(n,t);t+=n.length}return i},l=e=>{r("%"+e+"\n")},d=e=>{// Note: this doesnt work for very small and very large numbers
a(e.toString())},s=e=>{// Note: only supports ASCII names
a("/"+e)},h=e=>{a("["),e(),a("]")},c=e=>{for(let t in a("<<"),e)s(t),e[t]();a(">>")},m=(e,t)=>{c(e),a("stream\n"),r(t),r("endstream")},g=e=>(r(" "),r(n.push(i)+" 0 obj"),e(),a("endobj"),n.length),w=e=>{a(e+" 0 R")};// v1.4 for compatibility
l("PDF-1.4"),// 4 byte binary comment, as suggested by spec
l("\x90\x85\xfa\xe3");let p=3*e.length+1,y=await Promise.all(e.map(async e=>{let t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0);let i=await new Promise(e=>t.toBlob(e,"image/jpeg")),n=new Uint8Array(await u.call(i)),r=g(()=>{m({Type(){s("XObject")},Subtype(){s("Image")},Width(){d(e.width)},Height(){d(e.height)},ColorSpace(){s("DeviceRGB")},BitsPerComponent(){d(8)},Filter(){s("DCTDecode")},Length(){d(n.length)}},n)}),a=792*e.width/e.height,l=g(()=>{let e=`${a} 0 0 792 0 0 cm /I Do`;m({Length(){d(e.length)}},o([e]))}),y=g(()=>{c({Type(){s("Page")},Parent(){w(p)},Resources(){c({XObject(){c({I(){w(r)}})}})},Contents(){w(l)},MediaBox(){h(()=>{d(0),d(0),d(a),d(792)})}})});return y})),v=g(()=>{c({Type(){s("Pages")},Kids(){h(()=>{for(let e of y)w(e)})},Count(){d(y.length)}})}),f=g(()=>{c({Type(){s("Catalog")},Pages(){w(v)}})});// XREF
r("\n");let E=i;for(let e of(r("xref\n0 "+(n.length+1)+"\n0000000000 65535 f \n"),n))r(e.toString().padStart(10,"0")+" 00000 n \n");return r("trailer"),c({Size(){d(n.length+1)},Root(){w(f)}}),r("\nstartxref\n"+E+"\n%%EOF"),o(t)},f=async e=>{let t=document.createElement("img"),i=new Promise((e,i)=>{t.onload=()=>{e()},t.onerror=e=>{i(e)}});return t.src=URL.createObjectURL(e),await i,URL.revokeObjectURL(t.src),t},E=document.createElement("canvas"),x=E.getContext("2d"),b=async(e,t)=>{if(E.transferControlToOffscreen){var i;return p({type:"get-data",bitmap:i=e instanceof ImageBitmap?e:await createImageBitmap(e)},t?[i]:[])}return E.width=e.width,E.height=e.height,x.drawImage(e,0,0),x.getImageData(0,0,e.width,e.height)};var I={};I=new URL(o("27Lyk").resolve("bj76Q"),import.meta.url).toString();var C={};C=new URL(o("27Lyk").resolve("e0Dy9"),import.meta.url).toString();var L={};L=new URL(o("27Lyk").resolve("lX2gi"),import.meta.url).toString();var k={};k=new URL(o("27Lyk").resolve("gltHY"),import.meta.url).toString();/**
 * MediaStream ImageCapture polyfill
 *
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B=window.ImageCapture;void 0===B&&(B=class{/**
     * TODO https://www.w3.org/TR/image-capture/#constructors
     *
     * @param {MediaStreamTrack} videoStreamTrack - A MediaStreamTrack of the 'video' kind
     */constructor(e){if("video"!==e.kind)throw new DOMException("NotSupportedError");this._videoStreamTrack=e,"readyState"in this._videoStreamTrack||(this._videoStreamTrack.readyState="live"),// MediaStream constructor not available until Chrome 55 - https://www.chromestatus.com/feature/5912172546752512
this._previewStream=new MediaStream([e]),this.videoElement=document.createElement("video"),this.videoElementPlaying=new Promise(e=>{this.videoElement.addEventListener("playing",e)}),HTMLMediaElement?this.videoElement.srcObject=this._previewStream:this.videoElement.src=URL.createObjectURL(this._previewStream),this.videoElement.muted=!0,this.videoElement.setAttribute("playsinline",""),this.videoElement.play(),this.canvasElement=document.createElement("canvas"),// TODO Firefox has https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas
this.canvas2dContext=this.canvasElement.getContext("2d")}/**
     * https://w3c.github.io/mediacapture-image/index.html#dom-imagecapture-videostreamtrack
     * @return {MediaStreamTrack} The MediaStreamTrack passed into the constructor
     */get videoStreamTrack(){return this._videoStreamTrack}/**
     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-getphotocapabilities
     * @return {Promise<PhotoCapabilities>} Fulfilled promise with
     * [PhotoCapabilities](https://www.w3.org/TR/image-capture/#idl-def-photocapabilities)
     * object on success, rejected promise on failure
     */getPhotoCapabilities(){return new Promise(function(e,t){// TODO see https://github.com/w3c/mediacapture-image/issues/97
let i={current:0,min:0,max:0};e({exposureCompensation:i,exposureMode:"none",fillLightMode:"none",focusMode:"none",imageHeight:i,imageWidth:i,iso:i,redEyeReduction:!1,whiteBalanceMode:"none",zoom:i}),t(new DOMException("OperationError"))})}/**
     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-setoptions
     * @param {Object} photoSettings - Photo settings dictionary, https://www.w3.org/TR/image-capture/#idl-def-photosettings
     * @return {Promise<void>} Fulfilled promise on success, rejected promise on failure
     */setOptions(e={}){return new Promise(function(e,t){// TODO
})}/**
     * TODO
     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-takephoto
     * @return {Promise<Blob>} Fulfilled promise with [Blob](https://www.w3.org/TR/FileAPI/#blob)
     * argument on success; rejected promise on failure
     */takePhoto(){let e=this;return new Promise(function(t,i){// `If the readyState of the MediaStreamTrack provided in the constructor is not live,
// return a promise rejected with a new DOMException whose name is "InvalidStateError".`
if("live"!==e._videoStreamTrack.readyState)return i(new DOMException("InvalidStateError"));e.videoElementPlaying.then(()=>{try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),e.canvasElement.toBlob(t)}catch(e){i(new DOMException("UnknownError"))}})})}/**
     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-grabframe
     * @return {Promise<ImageBitmap>} Fulfilled promise with
     * [ImageBitmap](https://www.w3.org/TR/html51/webappapis.html#webappapis-images)
     * argument on success; rejected promise on failure
     */grabFrame(){let e=this;return new Promise(function(t,i){// `If the readyState of the MediaStreamTrack provided in the constructor is not live,
// return a promise rejected with a new DOMException whose name is "InvalidStateError".`
if("live"!==e._videoStreamTrack.readyState)return i(new DOMException("InvalidStateError"));e.videoElementPlaying.then(()=>{try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),// TODO polyfill https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapFactories/createImageBitmap for IE
t(window.createImageBitmap(e.canvasElement))}catch(e){i(new DOMException("UnknownError"))}})})}}),window.ImageCapture=B;const S=document.getElementById("root"),H=document.getElementById("modal"),M=document.getElementById("captures"),D=document.getElementById("preview"),R=document.getElementById("preview-crop"),W=document.getElementById("preview-doc"),O=document.getElementById("bottom-wrapper"),T=document.getElementById("top-wrapper"),P=document.getElementById("camera-select-wrapper"),_=document.getElementById("camera-select"),j=document.getElementById("quality-wrapper"),U=document.getElementById("quality"),F=document.getElementById("quality-img"),A=document.getElementById("github-wrapper"),X=document.getElementById("flash-wrapper"),q=document.getElementById("flash"),N=document.getElementById("flash-img"),Y=document.getElementById("past-wrapper"),z=document.getElementById("past"),J=document.getElementById("upload-wrapper"),V=document.getElementById("upload"),K=document.getElementById("shutter"),Q=document.getElementById("done-wrapper"),$=document.getElementById("done"),G=document.getElementById("modal-bottom-wrapper"),Z=document.getElementById("modal-cancel-wrapper"),ee=document.getElementById("modal-cancel"),et=document.getElementById("modal-done-wrapper"),ei=document.getElementById("modal-done");let en={};const er=[],ea=[],eo=e=>(ea.push(e),()=>{ea.splice(ea.indexOf(e),1)}),el=()=>{for(let e of ea)e()};let ed=-1;window.addEventListener("resize",()=>{clearTimeout(ed),ed=setTimeout(el,250)},{passive:!0});const es=t=>{let i={width:1e5,height:1e5,facingMode:"environment"};if(t){if(en[t])return en[t];i.deviceId={exact:t}}else if(e)return e;let n=navigator.mediaDevices.getUserMedia({video:i}).then(e=>{let t=e.getVideoTracks()[0].getSettings();for(let t of e.getTracks())t.stop();let i=Math.max(t.width,t.height),n=Math.min(t.width,t.height);return{width:i,height:n,deviceId:t.deviceId}});return t?en[t]=n:e=n.then(e=>(en[e.deviceId]=n,e)),n},eh=(e,t)=>{let i=document.createElement("div"),n=Math.min(window.innerWidth,window.innerHeight);return i.style.width=.03*n+"px",i.style.height=.03*n+"px",i.style.borderRadius=.015*n+"px",i.style.backgroundColor="black",i.style.position="absolute",ec(i,e,t),i},ec=(e,t,i)=>{let n=Math.min(window.innerWidth,window.innerHeight);e.style.top=t.y*i-.015*n+"px",e.style.left=t.x*i-.015*n+"px"},em=(e,t,i)=>{let n=document.createElement("div");return n.style.height="4px",n.style.backgroundColor="red",n.style.position="absolute",n.style.transformOrigin="center left",eg(n,e,t,i),n},eg=(e,t,i,n)=>{e.style.width=Math.hypot(t.x-i.x,t.y-i.y)*n+"px",e.style.top=t.y*n+"px",e.style.left=t.x*n+"px",e.style.transform=`rotate(${Math.atan2(i.y-t.y,i.x-t.x)}rad)`},ew=async e=>{let t,i;if(e instanceof Blob){let n=await f(e);t=n,i=await b(n)}else{let n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0),t=n,i=await b(e,!0)}let n=await y(i)||{a:{x:0,y:i.height},b:{x:0,y:0},c:{x:i.width,y:0},d:{x:i.width,y:i.height}},r=e=>{e.x<0?e.x=0:e.x>i.width&&(e.x=i.width),e.y<0?e.y=0:e.y>i.height&&(e.y=i.height)};return r(n.a),r(n.b),r(n.c),r(n.d),{img:t,data:i,quad:n}},ep=async e=>{let t=e.map(e=>e instanceof Blob||e instanceof ImageBitmap?ew(e):e),i=[],n={width:0,height:0},r=!1;for(let e of t){let a=e==t[0],o=e==t[t.length-1],{img:l,data:d,quad:s}=await e,h=document.createElement("div");h.style.display="flex",h.style.justifyContent="center",h.style.alignItems="center",h.style.overflow="hidden",h.style.scrollSnapAlign="center";let c=document.createElement("div");c.style.position="relative",c.appendChild(l),h.appendChild(c),H.style.display="flex";let m=Math.max(d.width,d.height)/Math.min(d.width,d.height),g=0,w=0,p=0,y=!1,u=[],v=()=>{if(!y){let{left:e,top:t}=c.getBoundingClientRect();w=e,p=t,y=!0}},f=(e,t)=>{let i=eh(e,g),n=!1,r=(t,r,w)=>{i.parentElement==c?(t.target==i||t.target==l&&Math.hypot(r-e.x*g,w-e.y*g)<.2*Math.min(window.innerWidth,window.innerHeight))&&(t.stopImmediatePropagation(),n=!0,a(r,w)):(c.removeEventListener("mousedown",d),c.removeEventListener("touchstart",s),c.removeEventListener("mousemove",h),c.removeEventListener("touchmove",m),c.removeEventListener("mouseup",o),c.removeEventListener("touchend",o))},a=(n,r)=>{e.x=n/g,e.y=r/g,ec(i,e,g),t()},o=()=>{n=!1},d=e=>{v(),r(e,e.pageX-w,e.pageY-p)};c.addEventListener("mousedown",d);let s=e=>{let t=e.targetTouches[0];v(),r(e,t.pageX-w,t.pageY-p)};c.addEventListener("touchstart",s);let h=e=>{n&&(e.preventDefault(),a(e.pageX-w,e.pageY-p))};c.addEventListener("mousemove",h);let m=e=>{if(n){let t=e.targetTouches[0];e.preventDefault(),a(t.pageX-w,t.pageY-p)}};return c.addEventListener("touchmove",m),c.addEventListener("mouseup",o),c.addEventListener("touchend",o),i},E=()=>{for(let e of u)c.removeChild(e);let e=em(s.a,s.b,g),t=em(s.b,s.c,g),i=em(s.c,s.d,g),n=em(s.d,s.a,g);u=[c.appendChild(e),c.appendChild(t),c.appendChild(i),c.appendChild(n),c.appendChild(f(s.a,()=>{eg(n,s.d,s.a,g),eg(e,s.a,s.b,g)})),c.appendChild(f(s.b,()=>{eg(e,s.a,s.b,g),eg(t,s.b,s.c,g)})),c.appendChild(f(s.c,()=>{eg(t,s.b,s.c,g),eg(i,s.c,s.d,g)})),c.appendChild(f(s.d,()=>{eg(i,s.c,s.d,g),eg(n,s.d,s.a,g)}))]},x=()=>{let{width:e,height:t}=a?eu(m,.925):n;a&&(r=ey(m),n={width:e,height:t},Z.style.width=Z.style.height=et.style.width=et.style.height=(r?window.innerWidth:window.innerHeight)*.035+"px",Z.style.margin=et.style.margin=(r?window.innerWidth:window.innerHeight)*.02+"px",M.style.width=H.style.width=window.innerWidth+"px",M.style.height=H.style.height=window.innerHeight+"px",H.style.flexDirection=r?"row":"column",M.style.flexDirection=r?"column":"row",r?(G.style.flexDirection="column",G.style.height=window.innerHeight+"px",G.style.width=""):(G.style.flexDirection="row",G.style.height="",G.style.width=window.innerWidth+"px"));let i=e+"px",o=t+"px";r?(l.style.width="",l.style.height=o,g=window.innerHeight/d.height):(l.style.width=i,l.style.height="",g=window.innerWidth/d.width),h.style.width=h.style.minWidth=i,h.style.height=h.style.minHeight=o,y=!1,E()};x(),M.appendChild(h);let b=eo(x);i.push(e=>{if(e&&(er.push({data:d,quad:s,img:l}),Q.style.opacity="",o)){for(l.width>l.height?(l.style.height=Y.style.height,l.style.width=""):(l.style.height="",l.style.width=Y.style.width);Y.lastChild!=z;)Y.removeChild(Y.lastChild);Y.appendChild(l)}b(),M.removeChild(h)})}return new Promise(e=>{let t=()=>r(!0),n=()=>r(!1);ee.addEventListener("click",n),ei.addEventListener("click",t);let r=r=>{for(let e of(ei.removeEventListener("click",t),ee.removeEventListener("click",n),H.style.display="none",i))e(r);e(r)}})},ey=e=>window.innerWidth>window.innerHeight*e,eu=(e,t)=>{let i=ey(e),n=i?window.innerHeight:Math.floor(Math.min(window.innerWidth*e,window.innerHeight*t)),r=i?Math.floor(Math.min(window.innerHeight*e,window.innerWidth*t)):window.innerWidth;return{width:r,height:n}},ev=[T,O],ef=[X,j,A,P,Y],eE=[Q,J],ex=ef.concat(eE,K),eb=async e=>{let t=await es(e),n=t.width/t.height,r=ey(n),{width:a,height:o}=eu(n,.84),l=o+"px",d=a+"px";for(let e of(R.style.width=R.style.minWidth=d,R.style.height=R.style.minHeight=l,S.style.width=window.innerWidth+"px",S.style.height=window.innerHeight+"px",ev))r?(e.style.flexDirection="column",e.style.height=window.innerHeight+"px",e.style.width=""):(e.style.flexDirection="row",e.style.height="",e.style.width=window.innerWidth+"px");for(let e of ef)e.style.width=e.style.height=(r?window.innerWidth:window.innerHeight)*.03+"px";for(let e of eE)e.style.width=e.style.height=(r?window.innerWidth:window.innerHeight)*.035+"px";for(let e of ex)e.style.margin=(r?window.innerWidth:window.innerHeight)*.02+"px";K.style.width=K.style.height=(r?window.innerWidth:window.innerHeight)*.05+"px";let s=(r?window.innerWidth:window.innerHeight)*.002+"px";Y.style.borderRadius=s,Y.style.border=s+" solid white",r?(D.style.height=l,D.style.width="",S.style.flexDirection="row"):(D.style.height="",D.style.width=d,S.style.flexDirection="column");let h={width:t.width,height:t.height,deviceId:{exact:t.deviceId}},c=await navigator.mediaDevices.getUserMedia({video:h}),m=c.getVideoTracks()[0],g=m.getCapabilities();X.style.display=g.torch?"":"none",D.srcObject=c;let w=[],p=()=>{for(let e of w)W.removeChild(e);w.length=0},u=()=>{let e=r?window.innerHeight/D.videoHeight:window.innerWidth/D.videoWidth,t=async()=>{let i;let n=performance.now();"none"==H.style.display&&(i=await y(await b(await v.grabFrame()),!0)),p(),-1!=x&&(i&&(w=[W.appendChild(em(i.a,i.b,e)),W.appendChild(em(i.b,i.c,e)),W.appendChild(em(i.c,i.d,e)),W.appendChild(em(i.d,i.a,e))]),x=setTimeout(t,Math.max(250-performance.now()+n,0)))};x=setTimeout(t,0)};D.addEventListener("loadedmetadata",u);let v=new ImageCapture(m),f="[object ImageCapture]"==Object.prototype.toString.call(v);j.style.display=f?"":"none",F.src=/*@__PURE__*/i(L);let E=()=>{f=!f,F.src=f?/*@__PURE__*/i(L):/*@__PURE__*/i(k)};U.addEventListener("click",E);let x=-1,B=()=>{D.style.opacity="0",setTimeout(()=>D.style.opacity="",50)},M=async()=>{if(""==K.style.opacity){K.style.opacity="0.5",B();try{let e=f?await v.takePhoto():await v.grabFrame();await ep([e])}catch(e){}K.style.opacity=""}};K.addEventListener("click",M);let O=!1;N.src=/*@__PURE__*/i(C);let T=async()=>{try{O=!O,await m.applyConstraints({advanced:[{torch:O}]}),N.src=O?/*@__PURE__*/i(I):/*@__PURE__*/i(C)}catch(e){}};return q.addEventListener("click",T),{deviceId:t.deviceId,close(){for(let e of(clearTimeout(x),x=-1,K.removeEventListener("click",M),q.removeEventListener("click",T),U.removeEventListener("click",E),D.removeEventListener("loadedmetadata",u),D.pause(),c.getTracks()))e.stop()}}},eI=async()=>{let e=await eb(localStorage.getItem("defaultDevice")),t=()=>{for(let e of _.options)e.style.fontWeight="";_.selectedOptions[0].style.fontWeight="bold"};for(let e of(await navigator.mediaDevices.enumerateDevices()))if("videoinput"==e.kind){let t=document.createElement("option");t.value=e.deviceId,t.label=e.label,_.appendChild(t)}_.value=e.deviceId,t();let i=async()=>{t(),e.close(),_.disabled=!0,localStorage.setItem("defaultDevice",_.value),e=await eb(_.value),_.disabled=!1};_.onchange=i,eo(i),V.onchange=async()=>{K.style.opacity="0.5",await ep([...V.files]),K.style.opacity=""},$.onclick=async()=>{if(er.length){Q.style.opacity="0.5";// generate PDF blob
let e=await v(await Promise.all(er.map(({data:e,quad:t})=>p({type:"extract-document",data:e,region:t,targetWidth:1224},[e.data.buffer])))),t=new Blob([e],{type:"application/pdf"});// send to parent window instead of downloading
window.parent.postMessage({type:"scannedPDF",blob:t},"*"),er.length=0}},z.onclick=async()=>{if(er.length){let e=er.slice();if(er.length=0,!await ep(e)){er.push(...e);let{img:t}=e[e.length-1];for(t.width>t.height?(t.style.height=Y.style.height,t.style.width=""):(t.style.height="",t.style.width=Y.style.width);Y.lastChild!=z;)Y.removeChild(Y.lastChild);Y.appendChild(t)}}}};eI();var eC={};eC=new URL("workers/"+o("27Lyk").resolve("drXuR"),import.meta.url).toString(),navigator.serviceWorker.register(eC);//# sourceMappingURL=index.bc220957.js.map

//# sourceMappingURL=index.bc220957.js.map
