(()=>{let e;function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},_=r.parcelRequireed96;null==_&&((_=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var _=Error("Cannot find module '"+e+"'");throw _.code="MODULE_NOT_FOUND",_}).register=function(e,t){i[e]=t},r.parcelRequireed96=_),_.register("bGWGM",function(e,r){t(e.exports,"register",()=>n,e=>n=e),t(e.exports,"resolve",()=>i,e=>i=e);var n,i,_={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)_[t[r]]=e[t[r]]},i=function(e){var t=_[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),_.register("8IoA4",function(e,r){t(e.exports,"getBundleURL",()=>n,e=>n=e);var n,i={};n=function(e){var t=i[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)// Use the 3rd one, which will be a runtime in the original bundle.
return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),i[e]=t),t}}),_("bGWGM").register(JSON.parse('{"a2Cve":"process.512d0167.js","4w3KO":"scanner_bg.d6cf4285.wasm"}'));let a=null;function o(){return(null===a||0===a.byteLength)&&(a=new Uint8Array(e.memory.buffer)),a}let s=0,l=null;function u(){return(null===l||!0===l.buffer.detached||void 0===l.buffer.detached&&l.buffer!==e.memory.buffer)&&(l=new DataView(e.memory.buffer)),l}let c=null,f="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){let r=f.encode(e);return t.set(r),{read:e.length,written:r.length}},d="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function b(e,t){if(!(e instanceof t))throw Error(`expected instance of ${t.name}`)}"undefined"!=typeof TextDecoder&&d.decode();let w="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>e.__wbg_point_free(t>>>0,1));class p{static __wrap(e){e>>>=0;let t=Object.create(p.prototype);return t.__wbg_ptr=e,w.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),e}free(){let t=this.__destroy_into_raw();e.__wbg_point_free(t,0)}/**
     * @returns {number}
     */get x(){let t=e.__wbg_get_point_x(this.__wbg_ptr);return t}/**
     * @param {number} arg0
     */set x(t){e.__wbg_set_point_x(this.__wbg_ptr,t)}/**
     * @returns {number}
     */get y(){let t=e.__wbg_get_point_y(this.__wbg_ptr);return t}/**
     * @param {number} arg0
     */set y(t){e.__wbg_set_point_y(this.__wbg_ptr,t)}}let y="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>e.__wbg_quad_free(t>>>0,1));class h{static __wrap(e){e>>>=0;let t=Object.create(h.prototype);return t.__wbg_ptr=e,y.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,y.unregister(this),e}free(){let t=this.__destroy_into_raw();e.__wbg_quad_free(t,0)}/**
     * @returns {Point}
     */get a(){let t=e.__wbg_get_quad_a(this.__wbg_ptr);return p.__wrap(t)}/**
     * @param {Point} arg0
     */set a(t){b(t,p);var r=t.__destroy_into_raw();e.__wbg_set_quad_a(this.__wbg_ptr,r)}/**
     * @returns {Point}
     */get b(){let t=e.__wbg_get_quad_b(this.__wbg_ptr);return p.__wrap(t)}/**
     * @param {Point} arg0
     */set b(t){b(t,p);var r=t.__destroy_into_raw();e.__wbg_set_quad_b(this.__wbg_ptr,r)}/**
     * @returns {Point}
     */get c(){let t=e.__wbg_get_quad_c(this.__wbg_ptr);return p.__wrap(t)}/**
     * @param {Point} arg0
     */set c(t){b(t,p);var r=t.__destroy_into_raw();e.__wbg_set_quad_c(this.__wbg_ptr,r)}/**
     * @returns {Point}
     */get d(){let t=e.__wbg_get_quad_d(this.__wbg_ptr);return p.__wrap(t)}/**
     * @param {Point} arg0
     */set d(t){b(t,p);var r=t.__destroy_into_raw();e.__wbg_set_quad_d(this.__wbg_ptr,r)}/**
     * @param {number} ax
     * @param {number} ay
     * @param {number} bx
     * @param {number} by
     * @param {number} cx
     * @param {number} cy
     * @param {number} dx
     * @param {number} dy
     */constructor(t,r,n,i,_,a,o,s){let l=e.quad_new(t,r,n,i,_,a,o,s);return this.__wbg_ptr=l>>>0,y.register(this,this.__wbg_ptr,this),this}}async function m(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}var x={};async function v(t){if(void 0!==e)return e;void 0!==t&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===t&&(t=new URL(x));let r=function(){let t={};return t.wbg={},t.wbg.__wbg_data_123d5c736b62f706=function(t,r){let n=r.data,i=function(e,t){let r=t(1*e.length,1)>>>0;return o().set(e,r/1),s=e.length,r}(n,e.__wbindgen_malloc),_=s;u().setInt32(t+4,_,!0),u().setInt32(t+0,i,!0)},t.wbg.__wbg_height_f7b85a9a5e044bae=function(e){let t=e.height;return t},t.wbg.__wbg_newwithu8clampedarrayandsh_28c04519543bc544=function(){return function(t,r){try{return t.apply(this,r)}catch(r){let t=function(t){let r=e.__externref_table_alloc();return e.__wbindgen_export_3.set(r,t),r}(r);e.__wbindgen_exn_store(t)}}(function(t,r,n,i){var _;let a=new ImageData((_=t>>>0,((null===c||0===c.byteLength)&&(c=new Uint8ClampedArray(e.memory.buffer)),c).subarray(_/1,_/1+r)),n>>>0,i>>>0);return a},arguments)},t.wbg.__wbg_width_8bf1ae94d2ffacfb=function(e){let t=e.width;return t},t.wbg.__wbindgen_debug_string=function(t,r){let n=function e(t){let r;// primitive types
let n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==n){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}// objects
if(Array.isArray(t)){let r=t.length,n="[";r>0&&(n+=e(t[0]));for(let i=1;i<r;i++)n+=", "+e(t[i]);return n+"]"}// Test for built-in
let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(r=i[1]))// JSON.stringify avoids problems with cycles, and is generally much
// easier than looping through ownProperties of `val`.
try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return(// errors
t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r)}(r),i=function(e,t,r){if(void 0===r){let r=f.encode(e),n=t(r.length,1)>>>0;return o().subarray(n,n+r.length).set(r),s=r.length,n}let n=e.length,i=t(n,1)>>>0,_=o(),a=0;for(;a<n;a++){let t=e.charCodeAt(a);if(t>127)break;_[i+a]=t}if(a!==n){0!==a&&(e=e.slice(a)),i=r(i,n,n=a+3*e.length,1)>>>0;let t=o().subarray(i+a,i+n),_=g(e,t);a+=_.written,i=r(i,n,a,1)>>>0}return s=a,i}(n,e.__wbindgen_malloc,e.__wbindgen_realloc),_=s;u().setInt32(t+4,_,!0),u().setInt32(t+0,i,!0)},t.wbg.__wbindgen_init_externref_table=function(){let t=e.__wbindgen_export_3,r=t.grow(4);t.set(0,void 0),t.set(r+0,void 0),t.set(r+1,null),t.set(r+2,!0),t.set(r+3,!1)},t.wbg.__wbindgen_throw=function(e,t){var r;throw Error((r=e>>>0,d.decode(o().subarray(r,r+t))))},t}();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));let{instance:n,module:i}=await m(await t,r);return e=n.exports,v.__wbindgen_wasm_module=i,l=null,a=null,c=null,e.__wbindgen_start(),e}x=_("8IoA4").getBundleURL("a2Cve")+_("bGWGM").resolve("4w3KO");let O=t=>{if("find-document"==t.type){// const ts = performance.now();
let r=function(t){let r=e.find_document(t);return 0===r?void 0:h.__wrap(r)}(t.data);// console.log('find_document:', (performance.now() - ts) + 'ms')
return{result:r&&{a:{x:r.a.x,y:r.a.y},b:{x:r.b.x,y:r.b.y},c:{x:r.c.x,y:r.c.y},d:{x:r.d.x,y:r.d.y}}}}if("extract-document"==t.type){let{a:r,b:n,c:i,d:_}=t.region,a=new h(r.x,r.y,n.x,n.y,i.x,i.y,_.x,_.y),o=function(t,r,n,i){b(r,h);var _=r.__destroy_into_raw();let a=e.extract_document(t,_,n,null==i?4294967297:i>>>0);return a}(t.data,a,t.targetWidth,t.targetHeight);return{result:o/*transfer: [result.data.buffer]*/}}if("get-data"==t.type){let{width:e,height:r}=t.bitmap,n=new OffscreenCanvas(e,r),i=n.getContext("2d");i.drawImage(t.bitmap,0,0);let _=i.getImageData(0,0,e,r);return{result:_/*transfer: [result.data.buffer]*/}}throw TypeError("invalid message")},E=v().catch(()=>{});self.onmessage=async e=>{await E;let{msg:t,...r}=e.data;try{let{result:e,transfer:n}=O(t);self.postMessage({result:e,...r},n||[])}catch(e){e instanceof Error||(e=Error(`Error in process worker: ${e}`)),self.postMessage({error:{message:e.message,stack:e.stack,name:e.name},...r})}}})();//# sourceMappingURL=process.512d0167.js.map

//# sourceMappingURL=process.512d0167.js.map
