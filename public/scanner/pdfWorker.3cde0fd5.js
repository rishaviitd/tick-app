(()=>{var e=globalThis,t={},r={},n=e.parcelRequireed96;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequireed96=n);var o=n.register;o("do4eo",function(e,t){var r=n("hO6Jd");self.onmessage=async e=>{try{let t=e.data,n=await (0,r.toPDF)(t);postMessage(n.buffer,[n.buffer])}catch(e){postMessage({error:e instanceof Error?e.message:String(e)})}}}),o("hO6Jd",function(e,t){Object.defineProperty(e.exports,"toPDF",{get:()=>n,set:void 0,enumerable:!0,configurable:!0});let r=Blob.prototype.arrayBuffer||function(){return new Promise((e,t)=>{let r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=()=>{t(r.error)},r.readAsArrayBuffer(this)})},n=async e=>{let t=[],n=0,o=[],a=e=>{t.push(e),n+=e.length},i=e=>{a(" "),a(e)},l=e=>{let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t);for(let n of(t=0,e)){if("string"==typeof n)for(let e=0;e<n.length;++e)r[e+t]=n.charCodeAt(e);else r.set(n,t);t+=n.length}return r},s=e=>{a("%"+e+"\n")},g=e=>{i(e.toString())},f=e=>{i("/"+e)},h=e=>{i("["),e(),i("]")},d=e=>{for(let t in i("<<"),e)f(t),e[t]();i(">>")},c=(e,t)=>{if("production"!=process.env.NODE_ENV&&!e.Length)throw TypeError("need stream length");d(e),i("stream\n"),a(t),a("endstream")},p=e=>(a(" "),a(o.push(n)+" 0 obj"),e(),i("endobj"),o.length),u=e=>{i(e+" 0 R")};s("PDF-1.4"),s("úã");let m=3*e.length+1,w=await Promise.all(e.map(async e=>{let t;if("undefined"!=typeof OffscreenCanvas){let r=new OffscreenCanvas(e.width,e.height);r.getContext("2d").putImageData(e,0,0),t=await r.convertToBlob({type:"image/jpeg"})}else if("undefined"!=typeof document){let r=document.createElement("canvas");r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),t=await new Promise(e=>r.toBlob(e,"image/jpeg"))}else throw Error("Cannot generate JPEG: no canvas or document available in worker context");let n=new Uint8Array(await r.call(t)),o=p(()=>{c({Type(){f("XObject")},Subtype(){f("Image")},Width(){g(e.width)},Height(){g(e.height)},ColorSpace(){f("DeviceRGB")},BitsPerComponent(){g(8)},Filter(){f("DCTDecode")},Length(){g(n.length)}},n)}),a=792*e.width/e.height,i=p(()=>{let e=`${a} 0 0 792 0 0 cm /I Do`;c({Length(){g(e.length)}},l([e]))});return p(()=>{d({Type(){f("Page")},Parent(){u(m)},Resources(){d({XObject(){d({I(){u(o)}})}})},Contents(){u(i)},MediaBox(){h(()=>{g(0),g(0),g(a),g(792)})}})})})),y=p(()=>{d({Type(){f("Pages")},Kids(){h(()=>{for(let e of w)u(e)})},Count(){g(w.length)}})}),b=p(()=>{d({Type(){f("Catalog")},Pages(){u(y)}})});a("\n");let v=n;for(let e of(a("xref\n0 "+(o.length+1)+"\n0000000000 65535 f \n"),o))a(e.toString().padStart(10,"0")+" 00000 n \n");return a("trailer"),d({Size(){g(o.length+1)},Root(){u(b)}}),a("\nstartxref\n"+v+"\n%%EOF"),l(t)}}),n("do4eo")})();
//# sourceMappingURL=pdfWorker.3cde0fd5.js.map
