(()=>{function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}var e,r=globalThis,n={},_={},i=r.parcelRequireed96;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in _){var e=_[t];delete _[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){_[t]=e},r.parcelRequireed96=i);var a=i.register;a("5kfgg",function(t,e){var r=i("tscFa");let n=t=>{if("find-document"==t.type){let e=(0,r.find_document)(t.data);return{result:e&&{a:{x:e.a.x,y:e.a.y},b:{x:e.b.x,y:e.b.y},c:{x:e.c.x,y:e.c.y},d:{x:e.d.x,y:e.d.y}}}}if("extract-document"==t.type){let{a:e,b:n,c:_,d:i}=t.region,a=new(0,r.Quad)(e.x,e.y,n.x,n.y,_.x,_.y,i.x,i.y);return{result:(0,r.extract_document)(t.data,a,t.targetWidth,t.targetHeight)}}if("get-data"==t.type){let{width:e,height:r}=t.bitmap,n=new OffscreenCanvas(e,r).getContext("2d");return n.drawImage(t.bitmap,0,0),{result:n.getImageData(0,0,e,r)}}throw TypeError("invalid message")},_=(0,r.default)().catch(()=>{});self.onmessage=async t=>{await _;let{msg:e,...r}=t.data;try{let{result:t,transfer:_}=n(e);self.postMessage({result:t,...r},_||[])}catch(t){t instanceof Error||(t=Error(`Error in process worker: ${t}`)),self.postMessage({error:{message:t.message,stack:t.stack,name:t.name},...r})}}}),a("tscFa",function(e,r){let n;t(e.exports,"find_document",()=>d),t(e.exports,"Quad",()=>m),t(e.exports,"extract_document",()=>w),t(e.exports,"default",()=>E);let _=null;function a(){return(null===_||0===_.byteLength)&&(_=new Uint8Array(n.memory.buffer)),_}let o=0,s=null;function u(){return(null===s||!0===s.buffer.detached||void 0===s.buffer.detached&&s.buffer!==n.memory.buffer)&&(s=new DataView(n.memory.buffer)),s}let l=null,c="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){let r=c.encode(t);return e.set(r),{read:t.length,written:r.length}},f="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function d(t){let e=n.find_document(t);return 0===e?void 0:m.__wrap(e)}function b(t,e){if(!(t instanceof e))throw Error(`expected instance of ${e.name}`)}function w(t,e,r,_){b(e,m);var i=e.__destroy_into_raw();return n.extract_document(t,i,r,null==_?0x100000001:_>>>0)}"undefined"!=typeof TextDecoder&&f.decode();let p="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_point_free(t>>>0,1));class y{static __wrap(t){t>>>=0;let e=Object.create(y.prototype);return e.__wbg_ptr=t,p.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,p.unregister(this),t}free(){let t=this.__destroy_into_raw();n.__wbg_point_free(t,0)}get x(){return n.__wbg_get_point_x(this.__wbg_ptr)}set x(t){n.__wbg_set_point_x(this.__wbg_ptr,t)}get y(){return n.__wbg_get_point_y(this.__wbg_ptr)}set y(t){n.__wbg_set_point_y(this.__wbg_ptr,t)}}let h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_quad_free(t>>>0,1));class m{static __wrap(t){t>>>=0;let e=Object.create(m.prototype);return e.__wbg_ptr=t,h.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),t}free(){let t=this.__destroy_into_raw();n.__wbg_quad_free(t,0)}get a(){let t=n.__wbg_get_quad_a(this.__wbg_ptr);return y.__wrap(t)}set a(t){b(t,y);var e=t.__destroy_into_raw();n.__wbg_set_quad_a(this.__wbg_ptr,e)}get b(){let t=n.__wbg_get_quad_b(this.__wbg_ptr);return y.__wrap(t)}set b(t){b(t,y);var e=t.__destroy_into_raw();n.__wbg_set_quad_b(this.__wbg_ptr,e)}get c(){let t=n.__wbg_get_quad_c(this.__wbg_ptr);return y.__wrap(t)}set c(t){b(t,y);var e=t.__destroy_into_raw();n.__wbg_set_quad_c(this.__wbg_ptr,e)}get d(){let t=n.__wbg_get_quad_d(this.__wbg_ptr);return y.__wrap(t)}set d(t){b(t,y);var e=t.__destroy_into_raw();n.__wbg_set_quad_d(this.__wbg_ptr,e)}constructor(t,e,r,_,i,a,o,s){let u=n.quad_new(t,e,r,_,i,a,o,s);return this.__wbg_ptr=u>>>0,h.register(this,this.__wbg_ptr,this),this}}async function x(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"!=t.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e);else throw e}let r=await t.arrayBuffer();return await WebAssembly.instantiate(r,e)}{let r=await WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}}async function v(t){if(void 0!==n)return n;void 0!==t&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===t&&(t=new URL(i("6aEwZ")));let e=function(){let t={};return t.wbg={},t.wbg.__wbg_data_123d5c736b62f706=function(t,e){let r=function(t,e){let r=e(+t.length,1)>>>0;return a().set(t,r/1),o=t.length,r}(e.data,n.__wbindgen_malloc),_=o;u().setInt32(t+4,_,!0),u().setInt32(t+0,r,!0)},t.wbg.__wbg_height_f7b85a9a5e044bae=function(t){return t.height},t.wbg.__wbg_newwithu8clampedarrayandsh_28c04519543bc544=function(){return function(t,e){try{return t.apply(this,e)}catch(e){let t=function(t){let e=n.__externref_table_alloc();return n.__wbindgen_export_3.set(e,t),e}(e);n.__wbindgen_exn_store(t)}}(function(t,e,r,_){var i;return new ImageData((i=t>>>0,((null===l||0===l.byteLength)&&(l=new Uint8ClampedArray(n.memory.buffer)),l).subarray(i/1,i/1+e)),r>>>0,_>>>0)},arguments)},t.wbg.__wbg_width_8bf1ae94d2ffacfb=function(t){return t.width},t.wbg.__wbindgen_debug_string=function(t,e){let r=function(t,e,r){if(void 0===r){let r=c.encode(t),n=e(r.length,1)>>>0;return a().subarray(n,n+r.length).set(r),o=r.length,n}let n=t.length,_=e(n,1)>>>0,i=a(),s=0;for(;s<n;s++){let e=t.charCodeAt(s);if(e>127)break;i[_+s]=e}if(s!==n){0!==s&&(t=t.slice(s)),_=r(_,n,n=s+3*t.length,1)>>>0;let e=g(t,a().subarray(_+s,_+n));s+=e.written,_=r(_,n,s,1)>>>0}return o=s,_}(function t(e){let r,n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){let t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==n){let t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){let r=e.length,n="[";r>0&&(n+=t(e[0]));for(let _=1;_<r;_++)n+=", "+t(e[_]);return n+"]"}let _=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!_||!(_.length>1))return toString.call(e);if("Object"==(r=_[1]))try{return"Object("+JSON.stringify(e)+")"}catch(t){return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}(e),n.__wbindgen_malloc,n.__wbindgen_realloc),_=o;u().setInt32(t+4,_,!0),u().setInt32(t+0,r,!0)},t.wbg.__wbindgen_init_externref_table=function(){let t=n.__wbindgen_export_3,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)},t.wbg.__wbindgen_throw=function(t,e){var r;throw Error((r=t>>>0,f.decode(a().subarray(r,r+e))))},t}();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));let{instance:r,module:d}=await x(await t,e);return n=r.exports,v.__wbindgen_wasm_module=d,s=null,_=null,l=null,n.__wbindgen_start(),n}var E=v}),a("6aEwZ",function(t,r){t.exports=function(t){if(t=i.i?.[t]||t,!e)try{throw Error()}catch(n){var r=(""+n.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(!r)return"./"+t;e=r[0]}return new URL("./"+t,e).toString()}("4w3KO")}),Object.assign(i.i??={},{"4w3KO":"scanner_bg.d6cf4285.wasm"}),i("5kfgg")})();
//# sourceMappingURL=process.9c96c7e0.js.map
